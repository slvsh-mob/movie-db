{"ast":null,"code":"import _slicedToArray from\"/Users/will/Desktop/Assessment/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React from'react';import axios from'axios';import swal from'sweetalert';var LoginPage=function LoginPage(){var _React$useState=React.useState(''),_React$useState2=_slicedToArray(_React$useState,2),email=_React$useState2[0],setEmail=_React$useState2[1];var _React$useState3=React.useState(''),_React$useState4=_slicedToArray(_React$useState3,2),password=_React$useState4[0],setPassword=_React$useState4[1];var handleEmail=function handleEmail(e){setEmail(e.target.value);};var handlePassword=function handlePassword(e){setPassword(e.target.value);};var handleSubmit=function handleSubmit(e){axios({method:'Post',url:'/user/login',data:{email:email,password:password}}).then(function(response){if(response.data.message===\"Authorization Successful\"){//Save token to local storage for authentication\nlocalStorage.setItem('token',response.data.token);//Save userId and email to local storage\nlocalStorage.setItem('userId',response.data.userId);localStorage.setItem('email',response.data.email);localStorage.setItem('username',response.data.username);localStorage.setItem('accessLevel',\"admin\");//Redirect to homepage on success\nwindow.location=\"/user\";//console.log(localStorage.getItem('email'))\n//console.log(localStorage.getItem('userId'))\n//console.log(localStorage.getItem('token'))\n}else{swal({\"title\":\"Error\",\"text\":\"No User Found, Please Try Again\",\"icon\":\"error\"});}}).catch(function(error){//Redirect to failed login page\nswal({\"title\":\"Error\",\"text\":\"No User Found, Please Try Again\",\"icon\":\"error\"});console.log(error);});};return/*#__PURE__*/React.createElement(\"div\",{className:\"single_page_background\"},/*#__PURE__*/React.createElement(\"div\",{style:login_div},/*#__PURE__*/React.createElement(\"div\",{style:left_div}),/*#__PURE__*/React.createElement(\"div\",{style:right_div},/*#__PURE__*/React.createElement(\"div\",{style:title_row},/*#__PURE__*/React.createElement(\"p\",{style:login_title},\"Movie Database\")),/*#__PURE__*/React.createElement(\"div\",{style:middle_row},/*#__PURE__*/React.createElement(\"p\",{style:middle_text},\"Welcome to the Movie database\"),/*#__PURE__*/React.createElement(\"p\",{style:middle_text},\"Please Sign In:\")),/*#__PURE__*/React.createElement(\"div\",{style:input_row},/*#__PURE__*/React.createElement(\"form\",{style:form_style},/*#__PURE__*/React.createElement(\"input\",{type:\"text\",placeholder:\"Email\",value:email,style:login_input_T,onChange:handleEmail}),/*#__PURE__*/React.createElement(\"input\",{type:\"password\",placeholder:\"Password\",value:password,style:login_input_B,onChange:handlePassword}))),/*#__PURE__*/React.createElement(\"div\",{style:lower_unit},/*#__PURE__*/React.createElement(\"div\",{style:btn_row},/*#__PURE__*/React.createElement(\"button\",{style:submit_btn,onClick:handleSubmit},\"Login\")),/*#__PURE__*/React.createElement(\"div\",{style:line_div},/*#__PURE__*/React.createElement(\"hr\",{style:line_style}),/*#__PURE__*/React.createElement(\"p\",{style:lower_unit_text},\"Or\"),/*#__PURE__*/React.createElement(\"hr\",{style:line_style})),/*#__PURE__*/React.createElement(\"div\",{style:btn_row},/*#__PURE__*/React.createElement(\"button\",{style:submit_btn,onClick:function onClick(){return window.location=\"/signup\";}},\"Signup\"))))));};var form_style={flexGrow:\"1\",display:\"flex\",flexDirection:\"column\"};var lower_unit_text={fontSize:\"15pt\",width:\"10%\",textAlign:\"center\"};var line_style={width:\"45%\"};var line_div={display:\"flex\",flexDirection:\"row\",alignItems:\"center\"};var lower_unit={flexGrow:\"5\",width:\"100%\",display:\"flex\",flexDirection:\"column\",justifyContent:\"center\",alignContent:\"center\"};var submit_btn={flexGrow:1,maxWidth:\"300px\",backgroundColor:\"#27AE60\",fontSize:\"20pt\",borderRadius:\"5px\"};var btn_row={marginTop:\"1vh\",height:\"7vh\",display:\"flex\",flexDirection:\"row\",justifyContent:\"center\"};var login_div={width:\"80%\",height:\"80%\",backgroundColor:\"#EEEEEE\",position:\"fixed\",zIndex:\"2\",margin:\"5% 10% 5% 10%\",borderRadius:\"10px\",display:\"flex\",flexDirection:\"row\"};var left_div={flexGrow:\"1\",height:\"100%\",backgroundColor:\"#D65A31\"};var right_div={minWidth:\"470px\",maxWidth:\"700px\",flexGrow:\"1\",height:\"100%\",display:\"flex\",flexDirection:\"column\",alignItems:\"center\",justifyContent:\"center\"};var login_input_B={flexGrow:\"1\",margin:\"0 0 10px 0\",height:\"5vh\",fontSize:\"3vh\",width:\"400px\",textIndent:\"10px\"};var login_input_T={flexGrow:\"1\",margin:\"0 0 10px 0\",height:\"5vh\",fontSize:\"3vh\",width:\"400px\",textIndent:\"10px\"};var title_row={flexGrow:\"2\",display:\"flex\",flexDirection:\"row\",justifyContent:\"center\"};var login_title={flexGrow:\"1\",fontSize:\"6vh\",fontWeight:\"bold\",textAlign:\"center\"};var middle_row={flexGrow:\"2\",display:\"flex\",flexDirection:\"column\",alignItems:\"center\",justifyContent:\"center\"};var middle_text={fontSize:\"2vh\",lineHeight:\"4vh\",textAlign:\"center\",margin:\"0 0 10px 0\"};var input_row={flexGrow:\"5\",width:\"100%\",display:\"flex\",flexDirection:\"column\",justifyContent:\"center\",alignItems:\"center\"};export default LoginPage;","map":{"version":3,"sources":["/Users/will/Desktop/Assessment/client/src/routes/login.js"],"names":["React","axios","swal","LoginPage","useState","email","setEmail","password","setPassword","handleEmail","e","target","value","handlePassword","handleSubmit","method","url","data","then","response","message","localStorage","setItem","token","userId","username","window","location","catch","error","console","log","login_div","left_div","right_div","title_row","login_title","middle_row","middle_text","input_row","form_style","login_input_T","login_input_B","lower_unit","btn_row","submit_btn","line_div","line_style","lower_unit_text","flexGrow","display","flexDirection","fontSize","width","textAlign","alignItems","justifyContent","alignContent","maxWidth","backgroundColor","borderRadius","marginTop","height","position","zIndex","margin","minWidth","textIndent","fontWeight","lineHeight"],"mappings":"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","sourcesContent":["import React from 'react'\nimport axios from 'axios'\nimport swal from 'sweetalert'\n\nconst LoginPage = () => {\n    const [email, setEmail] = React.useState('')\n    const [password, setPassword] = React.useState('')\n\n\n    const handleEmail = e => {\n        setEmail(e.target.value)\n    }\n\n    const handlePassword = e => {\n        setPassword(e.target.value)\n    }\n\n    const handleSubmit = e => {\n        axios({\n            method: 'Post',\n            url: '/user/login',\n            data: {\n                email: email,\n                password: password\n            }\n        })\n        .then(response => {\n            if(response.data.message === \"Authorization Successful\"){\n                //Save token to local storage for authentication\n                localStorage.setItem('token', response.data.token)\n                //Save userId and email to local storage\n                localStorage.setItem('userId', response.data.userId)\n                localStorage.setItem('email', response.data.email)\n                localStorage.setItem('username', response.data.username)\n                localStorage.setItem('accessLevel', \"admin\")\n                //Redirect to homepage on success\n                window.location = \"/user\"\n                //console.log(localStorage.getItem('email'))\n                //console.log(localStorage.getItem('userId'))\n                //console.log(localStorage.getItem('token'))\n            }\n            else{\n                swal({\n                    \"title\": \"Error\",\n                    \"text\": \"No User Found, Please Try Again\",\n                    \"icon\": \"error\"\n                })\n            }\n        })\n        .catch(error => {\n            //Redirect to failed login page\n            swal({\n                \"title\": \"Error\",\n                \"text\": \"No User Found, Please Try Again\",\n                \"icon\": \"error\"\n            })\n            console.log(error)\n        })\n    }\n\n    return(\n        <div className=\"single_page_background\">\n            <div style={login_div}>\n                <div style={left_div}>\n\n                </div>\n                <div style={right_div}>\n                    <div style={title_row}>\n                        <p style={login_title}>Movie Database</p>\n                    </div>\n                    <div style={middle_row}>\n                        <p style={middle_text}>Welcome to the Movie database</p>\n                        <p style={middle_text}>Please Sign In:</p>\n                    </div>\n                    <div style={input_row}>\n                        <form style={form_style}>\n                            <input type=\"text\" placeholder=\"Email\" value={email} style={login_input_T} onChange={handleEmail}/>\n                            <input type=\"password\" placeholder=\"Password\" value={password} style={login_input_B} onChange={handlePassword}/>\n                        </form>\n                    </div>\n                    <div style={lower_unit}>\n                        <div style={btn_row}>\n                            <button style={submit_btn} onClick={handleSubmit}>Login</button>\n                        </div>\n                        <div style={line_div}>\n                            <hr style={line_style}></hr>\n                            <p style={lower_unit_text}>Or</p>\n                            <hr style={line_style}></hr>\n                        </div>\n                        <div style={btn_row}>\n                            <button style={submit_btn} onClick={() => window.location = \"/signup\"}>Signup</button>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    );\n}\n\nconst form_style = {\n    flexGrow: \"1\",\n    display: \"flex\",\n    flexDirection: \"column\"\n}\n\nconst lower_unit_text = {\n    fontSize: \"15pt\",\n    width: \"10%\",\n    textAlign: \"center\"\n}\n\nconst line_style = {\n    width: \"45%\",\n}\n\nconst line_div = {\n    display: \"flex\",\n    flexDirection: \"row\",\n    alignItems: \"center\"\n\n}\nconst lower_unit = {\n    flexGrow: \"5\",\n    width: \"100%\",\n    display: \"flex\",\n    flexDirection: \"column\",\n    justifyContent: \"center\",\n    alignContent: \"center\"\n}\n\nconst submit_btn = {\n    flexGrow: 1,\n    maxWidth: \"300px\",\n    backgroundColor: \"#27AE60\",\n    fontSize: \"20pt\",\n    borderRadius: \"5px\"\n}\n\nconst btn_row = {\n    marginTop: \"1vh\",\n    height: \"7vh\",\n    display: \"flex\",\n    flexDirection: \"row\",\n    justifyContent: \"center\"\n}\n\nconst login_div = {\n    width: \"80%\",\n    height: \"80%\",\n    backgroundColor: \"#EEEEEE\",\n    position: \"fixed\",\n    zIndex: \"2\",\n    margin: \"5% 10% 5% 10%\",\n    borderRadius: \"10px\",\n    display: \"flex\",\n    flexDirection: \"row\"\n}\n\nconst left_div = {\n    flexGrow: \"1\",\n    height: \"100%\",\n    backgroundColor: \"#D65A31\"\n}\n\nconst right_div = {\n    minWidth: \"470px\",\n    maxWidth: \"700px\",\n    flexGrow: \"1\",\n    height: \"100%\",\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"center\",\n    justifyContent: \"center\"\n}\n\nconst login_input_B = {\n    flexGrow: \"1\",\n    margin: \"0 0 10px 0\",\n    height: \"5vh\",\n    fontSize: \"3vh\",\n    width: \"400px\",\n    textIndent: \"10px\"\n}\n\nconst login_input_T = {\n    flexGrow: \"1\",\n    margin: \"0 0 10px 0\",\n    height: \"5vh\",\n    fontSize: \"3vh\",\n    width: \"400px\",\n    textIndent: \"10px\"\n}\n\nconst title_row = {\n    flexGrow: \"2\",\n    display: \"flex\",\n    flexDirection: \"row\",\n    justifyContent: \"center\"\n}\n\nconst login_title = {\n    flexGrow: \"1\",\n    fontSize: \"6vh\",\n    fontWeight: \"bold\",\n    textAlign: \"center\"\n}\n\nconst middle_row = {\n    flexGrow: \"2\",\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"center\",\n    justifyContent: \"center\"\n}\n\nconst middle_text = {\n    fontSize: \"2vh\",\n    lineHeight: \"4vh\",\n    textAlign: \"center\",\n    margin: \"0 0 10px 0\"\n}\n\nconst input_row = {\n    flexGrow: \"5\",\n    width: \"100%\",\n    display: \"flex\",\n    flexDirection: \"column\",\n    justifyContent: \"center\",\n    alignItems: \"center\"\n}\n\nexport default LoginPage"]},"metadata":{},"sourceType":"module"}