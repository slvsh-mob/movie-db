{"ast":null,"code":"import _slicedToArray from\"/Users/will/Desktop/Assessment/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect}from'react';import axios from'axios';import swal from'sweetalert';var CommentElement=function CommentElement(props){var _React$useState=React.useState(''),_React$useState2=_slicedToArray(_React$useState,2),movieId=_React$useState2[0],setMovieId=_React$useState2[1];var _React$useState3=React.useState(''),_React$useState4=_slicedToArray(_React$useState3,2),userId=_React$useState4[0],setUserId=_React$useState4[1];var _React$useState5=React.useState(''),_React$useState6=_slicedToArray(_React$useState5,2),userRating=_React$useState6[0],setUserRating=_React$useState6[1];var _React$useState7=React.useState(''),_React$useState8=_slicedToArray(_React$useState7,2),userComment=_React$useState8[0],setUserComment=_React$useState8[1];var handleRating=function handleRating(e){setUserRating(e.target.value);};var handleComment=function handleComment(e){setUserComment(e.target.value);};useEffect(function(){// Set the movie ID and user ID for comment creation\nsetMovieId(props.movieId);setUserId(localStorage.getItem('userId'));},[movieId]);var handleSubmit=function handleSubmit(e){axios({method:\"Post\",url:\"http://localhost:5000/comments/\",data:{userId:userId,movieId:movieId,rating:userRating,comment:userComment}}).then(function(response){if(response.data.message===\"Comment created\"){swal({\"title\":\"Comment Added\",\"text\":\"Thanks for the feedback!\",\"icon\":\"success\"});setUserComment('');setUserRating('');}console.log(response);}).catch(function(error){swal({\"title\":\"Something Went Wrong!\",\"text\":\"Please Try Again\",\"icon\":\"error\"});console.log(error);});};return/*#__PURE__*/React.createElement(\"div\",{style:comment_div},/*#__PURE__*/React.createElement(\"div\",{style:rating_section},/*#__PURE__*/React.createElement(\"div\",{style:heading_section},/*#__PURE__*/React.createElement(\"p\",{style:rating_text},\"Rating\")),/*#__PURE__*/React.createElement(\"div\",{style:num_in_section},/*#__PURE__*/React.createElement(\"input\",{type:\"number\",style:num_input_style,value:userRating,onChange:handleRating}))),/*#__PURE__*/React.createElement(\"div\",{style:comment_section},/*#__PURE__*/React.createElement(\"div\",{style:heading_section},/*#__PURE__*/React.createElement(\"p\",{style:rating_text},\"Comment\")),/*#__PURE__*/React.createElement(\"div\",{style:num_in_section},/*#__PURE__*/React.createElement(\"textarea\",{style:textarea_style,value:userComment,onChange:handleComment}))),/*#__PURE__*/React.createElement(\"div\",{style:btn_section},/*#__PURE__*/React.createElement(\"button\",{style:submit_btn,onClick:handleSubmit},\"Submit\")));};var heading_section={minHeight:\"30px\",flexGrow:\"1\"};var num_in_section={height:\"130px\",flexGrow:\"1\"};var submit_btn={padding:\"10px\",fontSize:\"25pt\",borderRadius:\"5px\"};var btn_section={flexGrow:\"1\",height:\"100%\",display:\"flex\",alignItems:\"center\",justifyContent:\"center\"};var rating_text={textAlign:\"center\",fontSize:\"12pt\",marginRight:\"10px\",margin:0,lineHeight:\"30px\",fontWeight:\"bold\"};var num_input_style={width:\"75px\",height:\"50px\",fontSize:\"20pt\",textAlign:\"center\"};var textarea_style={width:\"90%\",height:\"50px\",marginLeft:\"5%\"};var rating_section={flexGrow:\"2\",height:\"100%\",display:\"flex\",flexDirection:\"column\",justifyContent:\"center\",alignItems:\"center\"};var comment_section={flexGrow:\"7\",height:\"100%\",display:\"flex\",flexDirection:\"column\",justifyContent:\"center\"};var comment_div={height:\"100px\",width:\"100%\",backgroundColor:\"#EEEEEE\",marginTop:\"20px\",borderRadius:\"20px\",display:\"flex\",flexDirection:\"row\"};export default CommentElement;","map":{"version":3,"sources":["/Users/will/Desktop/Assessment/client/src/components/comments/commentInputElement.js"],"names":["React","useEffect","axios","swal","CommentElement","props","useState","movieId","setMovieId","userId","setUserId","userRating","setUserRating","userComment","setUserComment","handleRating","e","target","value","handleComment","localStorage","getItem","handleSubmit","method","url","data","rating","comment","then","response","message","console","log","catch","error","comment_div","rating_section","heading_section","rating_text","num_in_section","num_input_style","comment_section","textarea_style","btn_section","submit_btn","minHeight","flexGrow","height","padding","fontSize","borderRadius","display","alignItems","justifyContent","textAlign","marginRight","margin","lineHeight","fontWeight","width","marginLeft","flexDirection","backgroundColor","marginTop"],"mappings":"4JAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,IAAP,KAAiB,YAAjB,CAEA,GAAMC,CAAAA,cAAc,CAAG,QAAjBA,CAAAA,cAAiB,CAACC,KAAD,CAAW,qBACAL,KAAK,CAACM,QAAN,CAAe,EAAf,CADA,oDACvBC,OADuB,qBACdC,UADc,0CAEFR,KAAK,CAACM,QAAN,CAAe,EAAf,CAFE,qDAEvBG,MAFuB,qBAEfC,SAFe,0CAGMV,KAAK,CAACM,QAAN,CAAe,EAAf,CAHN,qDAGvBK,UAHuB,qBAGXC,aAHW,0CAIQZ,KAAK,CAACM,QAAN,CAAe,EAAf,CAJR,qDAIvBO,WAJuB,qBAIVC,cAJU,qBAM9B,GAAMC,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAACC,CAAD,CAAO,CACxBJ,aAAa,CAACI,CAAC,CAACC,MAAF,CAASC,KAAV,CAAb,CACH,CAFD,CAIA,GAAMC,CAAAA,aAAa,CAAG,QAAhBA,CAAAA,aAAgB,CAACH,CAAD,CAAO,CACzBF,cAAc,CAACE,CAAC,CAACC,MAAF,CAASC,KAAV,CAAd,CACH,CAFD,CAIAjB,SAAS,CAAC,UAAM,CACZ;AACAO,UAAU,CAACH,KAAK,CAACE,OAAP,CAAV,CACAG,SAAS,CAACU,YAAY,CAACC,OAAb,CAAqB,QAArB,CAAD,CAAT,CACH,CAJQ,CAIN,CAACd,OAAD,CAJM,CAAT,CAMA,GAAMe,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAACN,CAAD,CAAO,CACxBd,KAAK,CAAC,CACFqB,MAAM,CAAE,MADN,CAEFC,GAAG,CAAE,iCAFH,CAGFC,IAAI,CAAE,CACFhB,MAAM,CAAEA,MADN,CAEFF,OAAO,CAAEA,OAFP,CAGFmB,MAAM,CAAEf,UAHN,CAIFgB,OAAO,CAAEd,WAJP,CAHJ,CAAD,CAAL,CAUCe,IAVD,CAUM,SAAAC,QAAQ,CAAI,CACd,GAAIA,QAAQ,CAACJ,IAAT,CAAcK,OAAd,GAA0B,iBAA9B,CAAgD,CAC5C3B,IAAI,CAAC,CACD,QAAS,eADR,CAED,OAAQ,0BAFP,CAGD,OAAQ,SAHP,CAAD,CAAJ,CAKAW,cAAc,CAAC,EAAD,CAAd,CACAF,aAAa,CAAC,EAAD,CAAb,CACH,CACDmB,OAAO,CAACC,GAAR,CAAYH,QAAZ,EACH,CArBD,EAsBCI,KAtBD,CAsBO,SAAAC,KAAK,CAAI,CACZ/B,IAAI,CAAC,CACD,QAAS,uBADR,CAED,OAAQ,kBAFP,CAGD,OAAQ,OAHP,CAAD,CAAJ,CAKA4B,OAAO,CAACC,GAAR,CAAYE,KAAZ,EACH,CA7BD,EA8BH,CA/BD,CAiCA,mBACA,2BAAK,KAAK,CAAEC,WAAZ,eACI,2BAAK,KAAK,CAAEC,cAAZ,eACI,2BAAK,KAAK,CAAEC,eAAZ,eACI,yBAAG,KAAK,CAAEC,WAAV,WADJ,CADJ,cAII,2BAAK,KAAK,CAAEC,cAAZ,eACI,6BAAO,IAAI,CAAC,QAAZ,CAAqB,KAAK,CAAEC,eAA5B,CAA6C,KAAK,CAAE7B,UAApD,CAAgE,QAAQ,CAAEI,YAA1E,EADJ,CAJJ,CADJ,cASI,2BAAK,KAAK,CAAE0B,eAAZ,eACI,2BAAK,KAAK,CAAEJ,eAAZ,eACI,yBAAG,KAAK,CAAEC,WAAV,YADJ,CADJ,cAII,2BAAK,KAAK,CAAEC,cAAZ,eACI,gCAAU,KAAK,CAAEG,cAAjB,CAAiC,KAAK,CAAE7B,WAAxC,CAAqD,QAAQ,CAAEM,aAA/D,EADJ,CAJJ,CATJ,cAiBI,2BAAK,KAAK,CAAEwB,WAAZ,eACI,8BAAQ,KAAK,CAAEC,UAAf,CAA2B,OAAO,CAAEtB,YAApC,WADJ,CAjBJ,CADA,CAuBH,CA5ED,CA8EA,GAAMe,CAAAA,eAAe,CAAG,CACpBQ,SAAS,CAAE,MADS,CAEpBC,QAAQ,CAAE,GAFU,CAAxB,CAKA,GAAMP,CAAAA,cAAc,CAAG,CACnBQ,MAAM,CAAE,OADW,CAEnBD,QAAQ,CAAE,GAFS,CAAvB,CAKA,GAAMF,CAAAA,UAAU,CAAG,CACfI,OAAO,CAAE,MADM,CAEfC,QAAQ,CAAE,MAFK,CAGfC,YAAY,CAAE,KAHC,CAAnB,CAMA,GAAMP,CAAAA,WAAW,CAAG,CAChBG,QAAQ,CAAE,GADM,CAEhBC,MAAM,CAAE,MAFQ,CAGhBI,OAAO,CAAE,MAHO,CAIhBC,UAAU,CAAE,QAJI,CAKhBC,cAAc,CAAE,QALA,CAApB,CAQA,GAAMf,CAAAA,WAAW,CAAG,CAChBgB,SAAS,CAAE,QADK,CAEhBL,QAAQ,CAAE,MAFM,CAGhBM,WAAW,CAAE,MAHG,CAIhBC,MAAM,CAAE,CAJQ,CAKhBC,UAAU,CAAE,MALI,CAMhBC,UAAU,CAAE,MANI,CAApB,CASA,GAAMlB,CAAAA,eAAe,CAAG,CACpBmB,KAAK,CAAE,MADa,CAEpBZ,MAAM,CAAE,MAFY,CAGpBE,QAAQ,CAAE,MAHU,CAIpBK,SAAS,CAAE,QAJS,CAAxB,CAOA,GAAMZ,CAAAA,cAAc,CAAG,CACnBiB,KAAK,CAAE,KADY,CAEnBZ,MAAM,CAAE,MAFW,CAGnBa,UAAU,CAAE,IAHO,CAAvB,CAMA,GAAMxB,CAAAA,cAAc,CAAG,CACnBU,QAAQ,CAAE,GADS,CAEnBC,MAAM,CAAE,MAFW,CAGnBI,OAAO,CAAE,MAHU,CAInBU,aAAa,CAAE,QAJI,CAKnBR,cAAc,CAAE,QALG,CAMnBD,UAAU,CAAE,QANO,CAAvB,CASA,GAAMX,CAAAA,eAAe,CAAG,CACpBK,QAAQ,CAAE,GADU,CAEpBC,MAAM,CAAE,MAFY,CAGpBI,OAAO,CAAE,MAHW,CAIpBU,aAAa,CAAE,QAJK,CAKpBR,cAAc,CAAE,QALI,CAAxB,CAOA,GAAMlB,CAAAA,WAAW,CAAG,CAChBY,MAAM,CAAE,OADQ,CAEhBY,KAAK,CAAE,MAFS,CAGhBG,eAAe,CAAE,SAHD,CAIhBC,SAAS,CAAE,MAJK,CAKhBb,YAAY,CAAE,MALE,CAMhBC,OAAO,CAAE,MANO,CAOhBU,aAAa,CAAE,KAPC,CAApB,CASA,cAAezD,CAAAA,cAAf","sourcesContent":["import React, { useEffect } from 'react'\nimport axios from 'axios'\nimport swal from 'sweetalert'\n\nconst CommentElement = (props) => {\n    const [movieId, setMovieId] = React.useState('')\n    const [userId, setUserId] = React.useState('')\n    const [userRating, setUserRating] = React.useState('')\n    const [userComment, setUserComment] = React.useState('')\n\n    const handleRating = (e) => {\n        setUserRating(e.target.value)\n    }\n\n    const handleComment = (e) => {\n        setUserComment(e.target.value)\n    }\n\n    useEffect(() => {\n        // Set the movie ID and user ID for comment creation\n        setMovieId(props.movieId)\n        setUserId(localStorage.getItem('userId'))\n    }, [movieId]);\n\n    const handleSubmit = (e) => {\n        axios({\n            method: \"Post\",\n            url: \"http://localhost:5000/comments/\",\n            data: {\n                userId: userId,\n                movieId: movieId,\n                rating: userRating,\n                comment: userComment\n            }\n        })\n        .then(response => {\n            if (response.data.message === \"Comment created\"){\n                swal({\n                    \"title\": \"Comment Added\",\n                    \"text\": \"Thanks for the feedback!\",\n                    \"icon\": \"success\"\n                })\n                setUserComment('')\n                setUserRating('')\n            }\n            console.log(response)\n        })\n        .catch(error => {\n            swal({\n                \"title\": \"Something Went Wrong!\",\n                \"text\": \"Please Try Again\",\n                \"icon\": \"error\"\n            })\n            console.log(error)\n        })\n    }\n\n    return(\n    <div style={comment_div}>\n        <div style={rating_section}>\n            <div style={heading_section}>\n                <p style={rating_text}>Rating</p>\n            </div>\n            <div style={num_in_section}>\n                <input type=\"number\" style={num_input_style} value={userRating} onChange={handleRating}/>\n            </div>\n        </div>\n        <div style={comment_section}>\n            <div style={heading_section}>\n                <p style={rating_text}>Comment</p>\n            </div>\n            <div style={num_in_section}>\n                <textarea style={textarea_style} value={userComment} onChange={handleComment}></textarea>\n            </div>\n        </div>\n        <div style={btn_section}>\n            <button style={submit_btn} onClick={handleSubmit}>Submit</button>\n        </div>\n    </div>\n    );\n}\n\nconst heading_section = {\n    minHeight: \"30px\",\n    flexGrow: \"1\"\n}\n\nconst num_in_section = {\n    height: \"130px\",\n    flexGrow: \"1\"\n}\n\nconst submit_btn = {\n    padding: \"10px\",\n    fontSize: \"25pt\",\n    borderRadius: \"5px\"\n}\n\nconst btn_section = {\n    flexGrow: \"1\",\n    height: \"100%\",\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"center\"\n}\n\nconst rating_text = {\n    textAlign: \"center\",\n    fontSize: \"12pt\",\n    marginRight: \"10px\",\n    margin: 0,\n    lineHeight: \"30px\",\n    fontWeight: \"bold\"\n}\n\nconst num_input_style = {\n    width: \"75px\",\n    height: \"50px\",\n    fontSize: \"20pt\",\n    textAlign: \"center\"\n}\n\nconst textarea_style = {\n    width: \"90%\",\n    height: \"50px\",\n    marginLeft: \"5%\"\n}\n\nconst rating_section = {\n    flexGrow: \"2\",\n    height: \"100%\",\n    display: \"flex\",\n    flexDirection: \"column\",\n    justifyContent: \"center\",\n    alignItems: \"center\"\n}\n\nconst comment_section = {\n    flexGrow: \"7\",\n    height: \"100%\",\n    display: \"flex\",\n    flexDirection: \"column\",\n    justifyContent: \"center\"\n}\nconst comment_div = {\n    height: \"100px\",\n    width: \"100%\",\n    backgroundColor: \"#EEEEEE\",\n    marginTop: \"20px\",\n    borderRadius: \"20px\",\n    display: \"flex\",\n    flexDirection: \"row\"\n}\nexport default CommentElement"]},"metadata":{},"sourceType":"module"}