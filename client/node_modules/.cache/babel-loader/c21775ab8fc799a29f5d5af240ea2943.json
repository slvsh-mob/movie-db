{"ast":null,"code":"import _slicedToArray from\"/Users/will/Desktop/Assessment/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React from'react';import Navbar from'../components/navbar/navbar';import Sidebar from'../components/sidebar/sidebar';import AddMovie from'../components/addmovie/addmovie';import axios from'axios';import SearchBar from'../components/searchbar/searchbar';var CreateMovie=function CreateMovie(){var _React$useState=React.useState(false),_React$useState2=_slicedToArray(_React$useState,2),searching=_React$useState2[0],setSearching=_React$useState2[1];var _React$useState3=React.useState(''),_React$useState4=_slicedToArray(_React$useState3,2),searchTerm=_React$useState4[0],setSearchTerm=_React$useState4[1];var _React$useState5=React.useState(null),_React$useState6=_slicedToArray(_React$useState5,2),data=_React$useState6[0],setData=_React$useState6[1];var _React$useState7=React.useState(false),_React$useState8=_slicedToArray(_React$useState7,2),loading=_React$useState8[0],setLoading=_React$useState8[1];var handleSearching=function handleSearching(e){setSearching(!searching);};var handleSearchTerm=function handleSearchTerm(e){setSearchTerm(e.target.value);};var handleSubmit=function handleSubmit(e){setLoading(true);setSearching(!searching);e.preventDefault();var temp_term=\"http://localhost:5000/movies/title/\"+searchTerm;axios({method:\"Get\",url:temp_term}).then(function(response){var path=response.data;var len_data=path.length;console.log(len_data+\" Objects Returned\");console.log(path);setData(path);setLoading(false);//If response has data, redirect to singleview with data loaded\n}).catch(function(error){console.log(error);setLoading(false);//If resoonse has no data, present error and allow user to retry\n});};return/*#__PURE__*/React.createElement(\"div\",null,searching?/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Navbar,{handleSubmit:handleSubmit,handleSearching:handleSearching,searching:searching,handleSearchTerm:handleSearchTerm,searchTerm:searchTerm}),/*#__PURE__*/React.createElement(SearchBar,{loading:loading,handleSearching:handleSearching,searchTerm:searchTerm,data:data}),/*#__PURE__*/React.createElement(Sidebar,{searching:searching,blank:\"false\"}),/*#__PURE__*/React.createElement(AddMovie,{searching:searching})):/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Navbar,{handleSubmit:handleSubmit,handleSearching:handleSearching,searching:searching,handleSearchTerm:handleSearchTerm,searchTerm:searchTerm}),/*#__PURE__*/React.createElement(Sidebar,{searching:searching,blank:\"false\"}),/*#__PURE__*/React.createElement(AddMovie,{searching:searching})));};export default CreateMovie;","map":{"version":3,"sources":["/Users/will/Desktop/Assessment/client/src/routes/createMovie.js"],"names":["React","Navbar","Sidebar","AddMovie","axios","SearchBar","CreateMovie","useState","searching","setSearching","searchTerm","setSearchTerm","data","setData","loading","setLoading","handleSearching","e","handleSearchTerm","target","value","handleSubmit","preventDefault","temp_term","method","url","then","response","path","len_data","length","console","log","catch","error"],"mappings":"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","sourcesContent":["import React from 'react'\nimport Navbar from '../components/navbar/navbar'\nimport Sidebar from '../components/sidebar/sidebar'\nimport AddMovie from '../components/addmovie/addmovie'\nimport axios from 'axios'\nimport SearchBar from '../components/searchbar/searchbar'\n\nconst CreateMovie = () => {\n    const [searching, setSearching] = React.useState(false)\n    const [searchTerm, setSearchTerm] = React.useState('')\n    const [data, setData] = React.useState(null)\n    const [loading, setLoading] = React.useState(false)\n\n    const handleSearching = (e) => {\n        setSearching(!searching)\n    }\n\n    const handleSearchTerm = (e) => {\n        setSearchTerm(e.target.value)\n    }\n\n    const handleSubmit = (e) => {\n        setLoading(true)\n        setSearching(!searching)\n        e.preventDefault()\n        var temp_term = \"http://localhost:5000/movies/title/\" + searchTerm\n        axios({\n            method: \"Get\",\n            url: temp_term\n        })\n        .then(response => {\n            const path = response.data\n            const len_data = path.length\n            console.log(len_data + \" Objects Returned\")\n            console.log(path)\n            setData(path)\n            setLoading(false)\n            //If response has data, redirect to singleview with data loaded\n        })\n        .catch(error => {\n            console.log(error)\n            setLoading(false)\n            //If resoonse has no data, present error and allow user to retry\n        })\n    }\n\n    return(\n        <div>\n                {searching\n                    ? <React.Fragment>\n                        <Navbar handleSubmit={handleSubmit} handleSearching={handleSearching} searching={searching} handleSearchTerm={handleSearchTerm} searchTerm={searchTerm}/>\n                        <SearchBar loading={loading} handleSearching={handleSearching} searchTerm={searchTerm} data={data}/>\n                        <Sidebar searching={searching} blank=\"false\"/>\n                        <AddMovie searching={searching}/>\n                    </React.Fragment>\n                    : <React.Fragment>\n                        <Navbar handleSubmit={handleSubmit} handleSearching={handleSearching} searching={searching} handleSearchTerm={handleSearchTerm} searchTerm={searchTerm}/>\n                        <Sidebar searching={searching} blank=\"false\"/>\n                        <AddMovie searching={searching}/>\n                    </React.Fragment>\n                }\n        </div>\n    );\n}\n\n\nexport default CreateMovie"]},"metadata":{},"sourceType":"module"}