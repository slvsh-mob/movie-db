{"ast":null,"code":"import _regeneratorRuntime from\"/Users/will/Desktop/Assessment/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/will/Desktop/Assessment/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/will/Desktop/Assessment/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect}from'react';import axios from'axios';var CommentElement=function CommentElement(props){var _React$useState=React.useState(props.movieId),_React$useState2=_slicedToArray(_React$useState,2),movieId=_React$useState2[0],setMovieId=_React$useState2[1];var _React$useState3=React.useState(localStorage.getItem('userId')),_React$useState4=_slicedToArray(_React$useState3,2),userId=_React$useState4[0],setUserId=_React$useState4[1];var _React$useState5=React.useState(''),_React$useState6=_slicedToArray(_React$useState5,2),userRating=_React$useState6[0],setUserRating=_React$useState6[1];var _React$useState7=React.useState(''),_React$useState8=_slicedToArray(_React$useState7,2),userComment=_React$useState8[0],setUserComment=_React$useState8[1];var _React$useState9=React.useState(''),_React$useState10=_slicedToArray(_React$useState9,2),commentDate=_React$useState10[0],setCommentDate=_React$useState10[1];var _React$useState11=React.useState(true),_React$useState12=_slicedToArray(_React$useState11,2),noData=_React$useState12[0],setNoData=_React$useState12[1];useEffect(function(){var endpoint=\"http://localhost:5000/comments/movie/\"+movieId;var fetchData=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var result,path;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return axios(endpoint);case 2:result=_context.sent;path=result.data;//Check if more than 1 comment exists\nif(path.length>0){setUserRating(result.data[0].rating);setUserComment(result.data[0].comment);setCommentDate(result.data[0].date);setNoData(false);}case 5:case\"end\":return _context.stop();}}},_callee);}));return function fetchData(){return _ref.apply(this,arguments);};}();fetchData();},[movieId]);return/*#__PURE__*/React.createElement(\"div\",{style:comment_div},noData?/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"div\",{style:no_comments_div},/*#__PURE__*/React.createElement(\"p\",{style:no_comments_text},\"--- No Comments Found ---\"))):/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"div\",{style:double_stack},/*#__PURE__*/React.createElement(\"div\",{style:rating_section_2},/*#__PURE__*/React.createElement(\"div\",{style:heading_section},/*#__PURE__*/React.createElement(\"p\",{style:rating_text},\"User\")),/*#__PURE__*/React.createElement(\"div\",{style:output_section},/*#__PURE__*/React.createElement(\"p\",{style:rating_text},userId))),/*#__PURE__*/React.createElement(\"div\",{style:rating_section_2},/*#__PURE__*/React.createElement(\"div\",{style:heading_section},/*#__PURE__*/React.createElement(\"p\",{style:rating_text},\"Date\")),/*#__PURE__*/React.createElement(\"div\",{style:output_section},/*#__PURE__*/React.createElement(\"p\",{style:rating_text},commentDate)))),/*#__PURE__*/React.createElement(\"div\",{style:rating_section},/*#__PURE__*/React.createElement(\"div\",{style:heading_section},/*#__PURE__*/React.createElement(\"p\",{style:rating_text},\"Rating\")),/*#__PURE__*/React.createElement(\"div\",{style:output_section_2},/*#__PURE__*/React.createElement(\"p\",{style:rating_text},userRating))),/*#__PURE__*/React.createElement(\"div\",{style:comment_section},/*#__PURE__*/React.createElement(\"div\",{style:heading_section},/*#__PURE__*/React.createElement(\"p\",{style:rating_text},\"Comment\")),/*#__PURE__*/React.createElement(\"div\",{style:output_section_2},/*#__PURE__*/React.createElement(\"p\",{style:rating_text},userComment)))));};var no_comments_div={flexGrow:\"1\"};var no_comments_text={textAlign:\"center\",fontSize:\"20pt\"};var rating_section_2={flexGrow:\"1\",height:\"100%\",display:\"flex\",flexDirection:\"column\",justifyContent:\"center\",alignItems:\"center\"};var output_section={height:\"30px\"};var output_section_2={minHeight:\"30px\",flexGrow:\"1\"};var double_stack={flexGrow:\"2\",height:\"100%\",display:\"flex\",flexDirection:\"column\"};var heading_section={minHeight:\"30px\",flexGrow:\"1\"};var rating_text={textAlign:\"center\",fontSize:\"12pt\",marginRight:\"10px\",margin:0,lineHeight:\"30px\",fontWeight:\"bold\"};var rating_section={flexGrow:\"1\",height:\"100%\",display:\"flex\",flexDirection:\"column\",justifyContent:\"center\",alignItems:\"center\"};var comment_section={flexGrow:\"7\",height:\"100%\",display:\"flex\",flexDirection:\"column\",justifyContent:\"center\",alignItems:\"center\"};var comment_div={height:\"125px\",width:\"100%\",backgroundColor:\"#EEEEEE\",marginTop:\"20px\",borderRadius:\"20px\",display:\"flex\",flexDirection:\"row\",alignItems:\"center\"};export default CommentElement;","map":{"version":3,"sources":["/Users/will/Desktop/Assessment/client/src/components/comments/commentOutputElement.js"],"names":["React","useEffect","axios","CommentElement","props","useState","movieId","setMovieId","localStorage","getItem","userId","setUserId","userRating","setUserRating","userComment","setUserComment","commentDate","setCommentDate","noData","setNoData","endpoint","fetchData","result","path","data","length","rating","comment","date","comment_div","no_comments_div","no_comments_text","double_stack","rating_section_2","heading_section","rating_text","output_section","rating_section","output_section_2","comment_section","flexGrow","textAlign","fontSize","height","display","flexDirection","justifyContent","alignItems","minHeight","marginRight","margin","lineHeight","fontWeight","width","backgroundColor","marginTop","borderRadius"],"mappings":"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","sourcesContent":["import React, { useEffect } from 'react'\nimport axios from 'axios'\n\nconst CommentElement = (props) => {\n    const [movieId, setMovieId] = React.useState(props.movieId)\n    const [userId, setUserId] = React.useState(localStorage.getItem('userId'))\n    const [userRating, setUserRating] = React.useState('')\n    const [userComment, setUserComment] = React.useState('')\n    const [commentDate, setCommentDate] = React.useState('')\n    const [noData, setNoData] = React.useState(true)\n\n\n    useEffect(() => {\n        const endpoint = \"http://localhost:5000/comments/movie/\" + movieId\n        const fetchData = async () => {\n            const result = await axios(endpoint)\n            const path = result.data\n            //Check if more than 1 comment exists\n            if(path.length > 0){\n                setUserRating(result.data[0].rating)\n                setUserComment(result.data[0].comment)\n                setCommentDate(result.data[0].date)\n                setNoData(false)\n            }\n        }\n        fetchData();\n    }, [movieId]);\n\n    return(\n    <div style={comment_div}>\n        {noData\n            ? <React.Fragment>\n                <div style={no_comments_div}>\n                    <p style={no_comments_text}>--- No Comments Found ---</p>\n                </div>\n              </React.Fragment>\n            : <React.Fragment>\n                <div style={double_stack}>\n                    <div style={rating_section_2}>\n                        <div style={heading_section}>\n                            <p style={rating_text}>User</p>\n                        </div>\n                        <div style={output_section}>\n                            <p style={rating_text}>{userId}</p>\n                        </div>\n                    </div>\n                    <div style={rating_section_2}>\n                        <div style={heading_section}>\n                            <p style={rating_text}>Date</p>\n                        </div>\n                        <div style={output_section}>\n                            <p style={rating_text}>{commentDate}</p>\n                        </div>\n                    </div>\n                </div>\n                <div style={rating_section}>\n                    <div style={heading_section}>\n                        <p style={rating_text}>Rating</p>\n                    </div>\n                    <div style={output_section_2}>\n                        <p style={rating_text}>{userRating}</p>\n                    </div>\n                </div>\n                <div style={comment_section}>\n                    <div style={heading_section}>\n                        <p style={rating_text}>Comment</p>\n                    </div>\n                    <div style={output_section_2}>\n                        <p style={rating_text}>{userComment}</p>\n                    </div>\n                </div>\n              </React.Fragment>\n        }\n    </div>\n    );\n}\n\nconst no_comments_div = {\n    flexGrow: \"1\"\n}\n\nconst no_comments_text = {\n    textAlign: \"center\",\n    fontSize: \"20pt\"\n}\n\nconst rating_section_2 = {\n    flexGrow: \"1\",\n    height: \"100%\",\n    display: \"flex\",\n    flexDirection: \"column\",\n    justifyContent: \"center\",\n    alignItems: \"center\"\n}\n\nconst output_section = {\n    height: \"30px\"\n}\nconst output_section_2 = {\n    minHeight: \"30px\",\n    flexGrow: \"1\"\n}\n\nconst double_stack ={\n    flexGrow: \"2\",\n    height: \"100%\",\n    display: \"flex\",\n    flexDirection: \"column\"\n}\n\nconst heading_section = {\n    minHeight: \"30px\",\n    flexGrow: \"1\"\n}\n\nconst rating_text = {\n    textAlign: \"center\",\n    fontSize: \"12pt\",\n    marginRight: \"10px\",\n    margin: 0,\n    lineHeight: \"30px\",\n    fontWeight: \"bold\"\n}\n\nconst rating_section = {\n    flexGrow: \"1\",\n    height: \"100%\",\n    display: \"flex\",\n    flexDirection: \"column\",\n    justifyContent: \"center\",\n    alignItems: \"center\"\n}\n\nconst comment_section = {\n    flexGrow: \"7\",\n    height: \"100%\",\n    display: \"flex\",\n    flexDirection: \"column\",\n    justifyContent: \"center\",\n    alignItems: \"center\"\n}\nconst comment_div = {\n    height: \"125px\",\n    width: \"100%\",\n    backgroundColor: \"#EEEEEE\",\n    marginTop: \"20px\",\n    borderRadius: \"20px\",\n    display: \"flex\",\n    flexDirection: \"row\",\n    alignItems: \"center\"\n}\nexport default CommentElement"]},"metadata":{},"sourceType":"module"}